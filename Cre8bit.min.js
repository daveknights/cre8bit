export default class Cre8bit{#uV='http://www.w3.org/2000/svg';#nV=null;#bV='';#lV=false;#oV=0;#cV='body';#kV='#333';#pV=5;#rV=null;#iV=false;#vV={rows:13,columns:12,colour:'yellow',points:[[4,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,4],[10,4],[10,5],[7,5],[7,6],[4,6],[4,7],[7,7],[7,8],[10,8],[10,9],[12,9],[12,11],[11,11],[11,12],[9,12],[9,13],[4,13],[4,12],[2,12],[2,11],[1,11],[1,9],[0,9],[0,4],[1,4],[1,2],[2,2],[2,1],[4,1]],animatePoints:[[4,0],[8,0],[8,1],[10,1],[10,2],[11,2],[11,4],[12,4],[12,9],[11,9],[11,11],[10,11],[10,12],[8,12],[8,13],[4,13],[4,12],[2,12],[2,11],[1,11],[1,9],[0,9],[0,4],[1,4],[1,2],[2,2],[2,1],[4,1]]};#aV={rows:14,columns:14,colour:'cyan',points:[[5,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,3],[13,3],[13,6],[14,6],[14,13],[13,13],[13,14],[11,14],[11,13],[10,13],[10,12],[9,12],[9,13],[8,13],[8,14],[6,14],[6,13],[5,13],[5,12],[4,12],[4,13],[3,13],[3,14],[1,14],[1,13],[0,13],[0,6],[1,6],[1,3],[2,3],[2,2],[3,2],[3,1],[5,1]],animatePoints:[[5,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,3],[13,3],[13,6],[14,6],[14,14],[13,14],[13,13],[12,13],[12,12],[11,12],[11,13],[10,13],[10,14],[8,14],[8,12],[6,12],[6,14],[4,14],[4,13],[3,13],[3,12],[2,12],[2,13],[1,13],[1,14],[0,14],[0,6],[1,6],[1,3],[2,3],[2,2],[3,2],[3,1],[5,1]],extraPoints:{white:[[[4,3],[6,3],[6,4],[7,4],[7,5],[5,5],[5,7],[6,7],[6,8],[4,8],[4,7],[3,7],[3,4],[4,4]],[[10,3],[12,3],[12,4],[13,4],[13,5],[11,5],[11,7],[12,7],[12,8],[10,8],[10,7],[9,7],[9,4],[10,4]]],blue:[[[5,5],[7,5],[7,7],[5,7]],[[11,5],[13,5],[13,7],[11,7]]]}};#tV={rows:8,columns:11,colour:'lime',points:[[2,0],[3,0],[3,1],[4,1],[4,2],[7,2],[7,1],[8,1],[8,0],[9,0],[9,1],[8,1],[8,2],[9,2],[9,3],[10,3],[10,4],[11,4],[11,7],[10,7],[10,5],[9,5],[9,7],[8,7],[8,8],[6,8],[6,7],[8,7],[8,6],[3,6],[3,7],[5,7],[5,8],[3,8,],[3,7],[2,7],[2,5],[1,5],[1,7],[0,7],[0,4],[1,4],[1,3],[2,3],[2,2],[3,2],[3,1],[2,1]],animatePoints:[[2,0],[3,0],[3,1],[4,1],[4,2],[7,2],[7,1],[8,1],[8,0],[9,0],[9,1],[8,1],[8,2],[9,2],[9,3],[10,3],[10,1],[11,1],[11,5],[10,5],[10,6],[9,6],[9,7],[10,7],[10,8],[9,8],[9,7],[8,7],[8,6],[3,6],[3,7],[2,7],[2,8],[1,8],[1,7],[2,7],[2,6],[1,6],[1,5],[0,5],[0,1],[1,1],[1,3],[2,3],[2,2],[3,2],[3,1],[2,1]],mask:[[3,3],[7,3]]};#eV={rows:7,columns:16,colour:'red',points:[[5,0],[11,0],[11,1],[13,1],[13,2],[14,2],[14,3],[15,3],[15,4],[16,4],[16,5],[14,5],[14,6],[13,6],[13,7],[12,7],[12,6],[11,6],[11,5],[9,5],[9,6],[7,6],[7,5],[5,5],[5,6],[4,6],[4,7],[3,7],[3,6],[2,6],[2,5],[0,5],[0,4],[1,4],[1,3],[2,3],[2,2],[3,2],[3,1],[5,1]],mask:[[3,3],[6,3],[9,3],[12,3]]};#jV={rows:12,columns:13,colour:'red',points:[[4,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,4],[13,4],[13,5],[12,5],[12,6],[11,6],[11,7],[9,7],[9,6],[8,6],[8,5],[5,5],[5,6],[4,6],[4,7],[2,7],[2,6],[1,6],[1,5],[0,5],[0,4],[1,4],[1,2],[2,2],[2,1],[4,1]],extraPoints:{white:[[[0,6],[1,6],[1,7],[2,7],[2,8],[5,8],[5,6],[8,6],[8,8],[11,8],[11,7],[12,7],[12,6],[13,6],[13,8],[12,8],[12,10],[11,10],[11,11],[9,11],[9,12],[4,12],[4,11],[2,11],[2,10],[1,10],[1,8],[0,8]]],black:[[[0,5],[1,5],[1,6],[2,6],[2,7],[4,7],[4,6],[5,6],[5,5],[8,5],[8,6],[9,6],[9,7],[11,7],[11,6],[12,6],[12,5],[13,5],[13,6],[12,6],[12,7],[11,7],[11,8],[8,8],[8,6],[5,6],[5,8],[8,8],[8,9],[5,9],[5,8],[2,8],[2,7],[1,7],[1,6],[0,6]]]}};#sV={rows:14,columns:14,colour:'red',points:[[6,0],[8,0],[8,2],[9,2],[9,3],[11,3],[11,2],[12,2],[12,4],[11,4],[11,7],[12,7],[12,8],[14,8],[14,10],[12,10],[12,9],[9,9],[9,8],[10,8],[10,5],[9,5],[9,4],[5,4],[5,5],[4,5],[4,8],[5,8],[5,9],[2,9],[2,10],[0,10],[0,8],[2,8],[2,7],[3,7],[3,4],[2,4],[2,2],[3,2],[3,3],[5,3],[5,2],[6,2]],extraPoints:{white:[[[0,5],[1,5],[1,3],[2,3],[2,4],[3,4],[3,7],[2,7],[2,8],[0,8]],[[5,0],[6,0],[6,2],[5,2],[5,3],[3,3],[3,1],[5,1]],[[8,0],[9,0],[9,1],[11,1],[11,3],[9,3],[9,2],[8,2]],[[12,3],[13,3],[13,5],[14,5],[14,8],[12,8],[12,7],[11,7],[11,4],[12,4]],[[5,4],[9,4],[9,5],[10,5],[10,8],[9,8],[9,9],[5,9],[5,8],[4,8],[4,5],[5,5]],[[3,10],[11,10],[11,11],[12,11],[12,13],[11,13],[11,14],[3,14],[3,13],[2,13],[2,11],[3,11]]],black:[[[2,9],[12,9],[12,11],[11,11],[11,10],[9,10],[9,12],[8,12],[8,10],[6,10],[6,12],[5,12],[5,10],[3,10],[3,11],[2,11]]]}};constructor(){this.#nV=`c8b-${Math.floor(Math.random()*Math.floor(Math.random()*Date.now()))}`}#fF(){switch(this.#bV){case 'pacman':return this.#vV;case 'ghost':return this.#aV;case 'space invader':return this.#tV;case 'ufo':return this.#eV;case 'poke ball':return this.#jV;case 'mushroom':return this.#sV;default:console.log('Character not available');break}}#uF(points){let lL='';for(const [i,[x,y]] of points.entries()){if(i===0){continue}lL += `L ${x*this.#pV} ${y*this.#pV} `}lL += 'z';return lL}#nF(svg,aC){const bC=document.createElementNS(this.#uV,'g');const iC=document.createElementNS(this.#uV,'path');const lC=this.#lV===false?aC.points:aC.animatePoints;bC.setAttribute('fill',this.#kV);this.#iV&&bC.setAttribute('stroke','black');this.#iV&&bC.setAttribute('stroke-width',0.5);iC.setAttribute('d',`M ${lC[0][0]*this.#pV} ${lC[0][1]*this.#pV} ${this.#uF(lC)}`);if(aC.mask){const gC=document.createElementNS(this.#uV,'defs');const eC=document.createElementNS(this.#uV,'mask');const cC=`${this.#nV}-mask`;const oC=document.createElementNS(this.#uV,'rect');eC.setAttribute('id',cC);oC.setAttribute('x',0);oC.setAttribute('y',0);oC.setAttribute('width',this.#pV*aC.columns);oC.setAttribute('height',this.#pV*aC.rows);oC.setAttribute('fill','white');eC.appendChild(oC);for(const [x,y] of aC.mask.values()){const nC=document.createElementNS(this.#uV,'rect');nC.setAttribute('x',x*this.#pV);nC.setAttribute('y',y*this.#pV);nC.setAttribute('width',this.#pV);nC.setAttribute('height',this.#pV);nC.setAttribute('fill','black');eC.appendChild(nC)}gC.appendChild(eC);svg.appendChild(gC);iC.setAttribute('mask',`url(#${cC})`)}svg.appendChild(bC);bC.appendChild(iC);if(aC.extraPoints){for(const [colour,pointsArrays] of Object.entries(aC.extraPoints)){for(const points of pointsArrays){const sC=document.createElementNS(this.#uV,'path');sC.setAttribute('d',`M ${points[0][0]*this.#pV} ${points[0][1]*this.#pV} ${this.#uF(points)}`);sC.setAttribute('fill',colour);bC.appendChild(sC)}}}return svg}#cF(isAnimating=false){const tC=this.#fF();const vC=document.getElementById(this.#nV);vC.innerHTML='';vC.setAttributeNS(null,'width',`${tC.columns*this.#pV}`);vC.setAttributeNS(null,'height',`${tC.rows*this.#pV}`);this.#nF(vC,tC);if(isAnimating&&this.#rV){this.setFlip(this.#rV)}}#sF(){this.#oV=setInterval(()=>{this.#lV=!this.#lV;this.#cF(true)},500)}stop(){if(this.#oV){clearInterval(this.#oV)}}set #parentClass(className){this.#cV=`.${className}`}setColour(colour,option){if(CSS.supports('color',colour)){this.#kV=colour;!option&&this.#cF()} else{console.log(`${colour} is not a valid CSS colour`)}return this}setSize(size,option){if(typeof size==='number'){if(size>71){console.log(`Max size is 70,${size} was provided`);size=70}this.#pV=size;!option&&this.#cF()} else{console.log(`${size} is not a number type`)}return this}setFlip(direction){if(direction){if(direction==='horizontally'){this.#rV=direction;document.getElementById(this.#nV).querySelector('g').setAttribute('transform',`scale(-1,1) translate(-${this.#fF().columns*this.#pV},0)`)} else if((direction==='vertically')){this.#rV=direction;document.getElementById(this.#nV).querySelector('g').setAttribute('transform',`scale(1,-1) translate(0,-${this.#fF().rows*this.#pV})`)} else{console.log('Only horizontally or vertically allowed')}}return this}create(character,options){this.#bV=character.toLowerCase();const aC=this.#fF();const rC=document.createElementNS(this.#uV,'svg');let eL=null;let tL=null;this.#kV=aC.colour;rC.id=this.#nV;rC.classList.add('cre8bit',this.#bV.replace(' ','-'));if(options){options.parentClass&&(this.#parentClass=options.parentClass);options.colour&&this.setColour(options.colour,true);options.size&&this.setSize(options.size,true);options.outline&&(this.#iV=true)}rC.setAttributeNS(null,'width',`${aC.columns*this.#pV}`);rC.setAttributeNS(null,'height',`${aC.rows*this.#pV}`);eL=this.#nF(rC,aC);if(options&&options.wrapperClass){tL=document.createElement('div');tL.className=options.wrapperClass;tL.appendChild(eL)} else{tL=eL}document.querySelector(this.#cV).appendChild(tL);if(options){options.flip&&this.setFlip(options.flip);if(options.animate){this.#lV=true;this.#sF()}}return this}}