export default class Cre8bit{#aV='http://www.w3.org/2000/svg';#bV=null;#cV='';#dV=false;#eV=0;#fV='body';#gV='#333';#hV=5;#iV=false;#jV=0;#kV=false;#lV=false;#mV={pacman:{rows:13,columns:12,colour:'yellow',points:[[[4,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,4],[10,4],[10,5],[7,5],[7,6],[4,6],[4,7],[7,7],[7,8],[10,8],[10,9],[12,9],[12,11],[11,11],[11,12],[9,12],[9,13],[4,13],[4,12],[2,12],[2,11],[1,11],[1,9],[0,9],[0,4],[1,4],[1,2],[2,2],[2,1],[4,1]]],animatePoints:[[[4,0],[8,0],[8,1],[10,1],[10,2],[11,2],[11,4],[12,4],[12,9],[11,9],[11,11],[10,11],[10,12],[8,12],[8,13],[4,13],[4,12],[2,12],[2,11],[1,11],[1,9],[0,9],[0,4],[1,4],[1,2],[2,2],[2,1],[4,1]]]},ghost:{rows:14,columns:14,colour:'cyan',points:[[[5,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,3],[13,3],[13,6],[14,6],[14,13],[13,13],[13,14],[11,14],[11,13],[10,13],[10,12],[9,12],[9,13],[8,13],[8,14],[6,14],[6,13],[5,13],[5,12],[4,12],[4,13],[3,13],[3,14],[1,14],[1,13],[0,13],[0,6],[1,6],[1,3],[2,3],[2,2],[3,2],[3,1],[5,1]]],animatePoints:[[[5,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,3],[13,3],[13,6],[14,6],[14,14],[13,14],[13,13],[12,13],[12,12],[11,12],[11,13],[10,13],[10,14],[8,14],[8,12],[6,12],[6,14],[4,14],[4,13],[3,13],[3,12],[2,12],[2,13],[1,13],[1,14],[0,14],[0,6],[1,6],[1,3],[2,3],[2,2],[3,2],[3,1],[5,1]]],extraPoints:{white:[[[4,3],[6,3],[6,4],[7,4],[7,5],[5,5],[5,7],[6,7],[6,8],[4,8],[4,7],[3,7],[3,4],[4,4]],[[10,3],[12,3],[12,4],[13,4],[13,5],[11,5],[11,7],[12,7],[12,8],[10,8],[10,7],[9,7],[9,4],[10,4]]],blue:[[[5,5],[7,5],[7,7],[5,7]],[[11,5],[13,5],[13,7],[11,7]]]}},spaceInvader:{rows:8,columns:11,colour:'lime',points:[[[2,0],[3,0],[3,1],[4,1],[4,2],[7,2],[7,1],[8,1],[8,0],[9,0],[9,1],[8,1],[8,2],[9,2],[9,3],[10,3],[10,4],[11,4],[11,7],[10,7],[10,5],[9,5],[9,7],[8,7],[8,8],[6,8],[6,7],[8,7],[8,6],[3,6],[3,7],[5,7],[5,8],[3,8,],[3,7],[2,7],[2,5],[1,5],[1,7],[0,7],[0,4],[1,4],[1,3],[2,3],[2,2],[3,2],[3,1],[2,1]]],animatePoints:[[[2,0],[3,0],[3,1],[4,1],[4,2],[7,2],[7,1],[8,1],[8,0],[9,0],[9,1],[8,1],[8,2],[9,2],[9,3],[10,3],[10,1],[11,1],[11,5],[10,5],[10,6],[9,6],[9,7],[10,7],[10,8],[9,8],[9,7],[8,7],[8,6],[3,6],[3,7],[2,7],[2,8],[1,8],[1,7],[2,7],[2,6],[1,6],[1,5],[0,5],[0,1],[1,1],[1,3],[2,3],[2,2],[3,2],[3,1],[2,1]]],mask:[[3,3],[7,3]]},ufo:{rows:7,columns:16,colour:'red',points:[[[5,0],[11,0],[11,1],[13,1],[13,2],[14,2],[14,3],[15,3],[15,4],[16,4],[16,5],[14,5],[14,6],[13,6],[13,7],[12,7],[12,6],[11,6],[11,5],[9,5],[9,6],[7,6],[7,5],[5,5],[5,6],[4,6],[4,7],[3,7],[3,6],[2,6],[2,5],[0,5],[0,4],[1,4],[1,3],[2,3],[2,2],[3,2],[3,1],[5,1]]],mask:[[3,3],[6,3],[9,3],[12,3]]},pokeBall:{rows:12,columns:13,colour:'red',points:[[[4,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,4],[13,4],[13,5],[12,5],[12,6],[11,6],[11,7],[9,7],[9,6],[8,6],[8,5],[5,5],[5,6],[4,6],[4,7],[2,7],[2,6],[1,6],[1,5],[0,5],[0,4],[1,4],[1,2],[2,2],[2,1],[4,1]]],extraPoints:{white:[[[0,6],[1,6],[1,7],[2,7],[2,8],[5,8],[5,6],[8,6],[8,8],[11,8],[11,7],[12,7],[12,6],[13,6],[13,8],[12,8],[12,10],[11,10],[11,11],[9,11],[9,12],[4,12],[4,11],[2,11],[2,10],[1,10],[1,8],[0,8]]],black:[[[0,5],[1,5],[1,6],[2,6],[2,7],[4,7],[4,6],[5,6],[5,5],[8,5],[8,6],[9,6],[9,7],[11,7],[11,6],[12,6],[12,5],[13,5],[13,6],[12,6],[12,7],[11,7],[11,8],[8,8],[8,6],[5,6],[5,8],[8,8],[8,9],[5,9],[5,8],[2,8],[2,7],[1,7],[1,6],[0,6]]]}},pikachu:{rows:19,columns:17,colour:'yellow',points:[[[4,1],[5,1],[5,2],[5,4],[6,4],[6,5],[8,5],[8,4],[10,4],[10,8],[11,8],[11,10],[12,10],[12,11],[10,11],[10,12],[12,12],[12,13],[11,13],[11,14],[12,14],[12,16],[11,16],[11,17],[10,17],[10,18],[11,18],[11,19],[8,19],[8,18],[9,18],[9,17],[6,17],[6,16],[4,16],[4,15],[3,15],[3,16],[2,16],[2,15],[3,15],[3,13],[1,13],[1,12],[2,12],[2,10],[1,10],[1,9],[0,9],[0,8],[1,8],[1,5],[2,5],[2,4],[3,4],[3,2],[4,2]],[[15,0],[16,0],[16,1],[17,1],[17,3],[16,3],[16,4],[15,4],[15,5],[14,5],[14,6],[15,6],[15,8],[13,8],[13,6],[12,6],[12,4],[13,4],[13,2],[14,2],[14,1],[15,1]]],extraPoints:{black:[[[4,0],[5,0],[5,1],[4,1]],[[10,3],[12,3],[12,4],[11,4],[11,5],[10,5]],[[0,7],[1,7],[1,8],[0,8]],[[5,8],[6,8],[6,10],[4,10],[4,9],[5,9]],[[8,13],[9,13],[9,14],[8,14],[8,15],[9,15],[9,16],[8,16],[8,15],[7,15],[7,14],[8,14]]],white:[[[0,6],[1,6],[1,7],[0,7]],[[4,8],[5,8],[5,9],[4,9]]],red:[[[6,10],[8,10],[8,11],[7,11],[7,12],[6,12]]],sienna:[[[13,8],[14,8],[14,9],[13,9],[13,10],[12,10],[12,9],[13,9]],[[10,11],[12,11],[12,12],[10,12]],[[11,13],[12,13],[12,14],[11,14]]]}},mushroom:{rows:14,columns:14,colour:'red',points:[[[6,0],[8,0],[8,2],[9,2],[9,3],[11,3],[11,2],[12,2],[12,4],[11,4],[11,7],[12,7],[12,8],[14,8],[14,10],[12,10],[12,9],[9,9],[9,8],[10,8],[10,5],[9,5],[9,4],[5,4],[5,5],[4,5],[4,8],[5,8],[5,9],[2,9],[2,10],[0,10],[0,8],[2,8],[2,7],[3,7],[3,4],[2,4],[2,2],[3,2],[3,3],[5,3],[5,2],[6,2]]],extraPoints:{white:[[[0,5],[1,5],[1,3],[2,3],[2,4],[3,4],[3,7],[2,7],[2,8],[0,8]],[[5,0],[6,0],[6,2],[5,2],[5,3],[3,3],[3,1],[5,1]],[[8,0],[9,0],[9,1],[11,1],[11,3],[9,3],[9,2],[8,2]],[[12,3],[13,3],[13,5],[14,5],[14,8],[12,8],[12,7],[11,7],[11,4],[12,4]],[[5,4],[9,4],[9,5],[10,5],[10,8],[9,8],[9,9],[5,9],[5,8],[4,8],[4,5],[5,5]],[[3,10],[11,10],[11,11],[12,11],[12,13],[11,13],[11,14],[3,14],[3,13],[2,13],[2,11],[3,11]]],black:[[[2,9],[12,9],[12,11],[11,11],[11,10],[9,10],[9,12],[8,12],[8,10],[6,10],[6,12],[5,12],[5,10],[3,10],[3,11],[2,11]]]}},mario:{rows:16,columns:12,colour:'red',points:[[[3,0],[8,0],[8,1],[11,1],[11,2],[2,2],[2,1],[3,1]],[[2,7],[4,7],[4,10],[3,10],[3,11],[2,11],[2,10],[0,10],[0,9],[1,9],[1,8],[2,8],[2,7]],[[5,7],[7,7],[7,9],[5,9]],[[8,7],[10,7],[10,8],[11,8],[11,9],[12,9],[12,10],[10,10],[10,11],[9,11],[9,10],[8,10]]],extraPoints:{brown:[[[2,2],[5,2],[5,3],[4,3],[4,4],[5,4],[5,5],[3,5],[3,3],[2,3]],[[1,3],[2,3],[2,5],[3,5],[3,6],[2,6],[2,5],[1,5]],[[1,14],[4,14],[4,16],[0,16],[0,15],[1,15]],[[8,14],[11,14],[11,15],[12,15],[12,16],[8,16]]],black:[[[7,2],[8,2],[8,4],[9,4],[9,5],[11,5],[11,6],[7,6],[7,5],[8,5],[8,4],[7,4]]],bisque:[[[2,3],[3,3],[3,5],[5,5],[5,4],[4,4],[4,3],[5,3],[5,2],[7,2],[7,4],[8,4],[8,2],[9,2],[9,3],[11,3],[11,4],[12,4],[12,5],[9,5],[9,4],[8,4],[8,5],[7,5],[7,6],[9,6],[9,7],[3,7],[3,5],[2,5]],[[0,10],[2,10],[2,11],[3,11],[3,12],[2,12],[2,13],[0,13]],[[10,10],[12,10],[12,13],[10,13],[10,12],[9,12],[9,11],[10,11]]],blue:[[[4,7],[5,7],[5,9],[7,9],[7,7],[8,7],[8,10],[7,10],[7,11],[8,11],[8,10],[9,10],[9,12],[10,12],[10,14],[7,14],[7,13],[5,13],[5,14],[2,14],[2,12],[3,12],[3,10],[4,10],[4,11],[5,11],[5,10],[4,10]]],yellow:[[[4,10],[5,10],[5,11],[4,11]],[[7,10],[8,10],[8,11],[7,11]]]}},kirby:{rows:14,columns:14,colour:'pink',points:[[[1,0],[3,0],[3,1],[2,1],[2,2],[3,2],[3,1],[4,1],[4,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,4],[13,4],[13,5],[14,5],[14,8],[11,8],[11,9],[10,9],[10,10],[9,10],[9,12],[8,12],[8,13],[5,13],[5,12],[3,12],[3,11],[2,11],[2,10],[1,10],[1,7],[0,7],[0,1],[1,1]]],extraPoints:{crimson:[[[1,12],[3,12],[3,13],[5,13],[5,14],[0,14],[0,13],[1,13]],[[11,9],[14,9],[14,12],[13,12],[13,13],[12,13],[12,14],[10,14],[10,13],[9,13],[9,12],[10,12],[10,10],[11,10]],[[3,5],[5,5],[5,6],[3,6]],[[8,5],[10,5],[10,6],[8,6]]],black:[[[5,2],[6,2],[6,5],[5,5]],[[7,2],[8,2],[8,5],[7,5]],[[6,6],[7,6],[7,8],[6,8]]]}},};constructor(){this.#bV=`c8b-${Math.floor(Math.random()*Math.floor(Math.random()*Date.now()))}`}#aF(){let aL=this.#cV;switch(aL){case 'space invader':return this.#mV['spaceInvader'];case 'poke ball':return this.#mV['pokeBall'];default:if(aL in this.#mV){return this.#mV[aL]} else{console.log('Character not available')}break}}#bF(points){let bL='';for(const [i,[x,y]] of points.entries()){if(i===0){continue}bL+=`L ${(x*this.#hV)+this.#jV} ${(y*this.#hV) + this.#jV}`}bL+='z';return bL}#cF(name,tag){return document.createElementNS(name,tag)}#dF(elem,values){for(const [v1,v2] of values){elem.setAttribute(v1,v2)}}#eF(svg,qC){const aC=this.#cF(this.#aV,'g');const bC=this.#dV===false?qC.points:qC.animatePoints;const cC=this.#jV;const dC=cC*2;let cL=null;this.#dF(aC,[['fill', this.#gV]]);if(cC===0.5){this.#dF(aC,[['stroke', 'black'],['stroke-width', cC]])}if(qC.mask){const eC=this.#cF(this.#aV,'defs');const fC=this.#cF(this.#aV,'mask');const gC=this.#cF(this.#aV,'rect');this.#dF(fC,[['id',`${this.#bV}-mask`]]);this.#dF(gC,[['x', 0],['y', 0],['width',(this.#hV*qC.columns)+dC],['height', (this.#hV*qC.rows) + dC],['fill', 'white']]);fC.appendChild(gC);for(const [x,y] of qC.mask.values()){const hC=this.#cF(this.#aV,'rect');this.#dF(hC,[['x',(x*this.#hV)+cC],['y', (y*this.#hV) + cC],['width', this.#hV],['height', this.#hV],['fill', 'black']]);fC.appendChild(hC)}eC.appendChild(fC);svg.appendChild(eC)}svg.appendChild(aC);for(const points of bC){cL=this.#cF(this.#aV,'path');this.#dF(cL,[['d',`M ${(points[0][0]*this.#hV)+cC} ${(points[0][1]*this.#hV) + cC} ${this.#bF(points)}`]]);aC.appendChild(cL)}qC.mask&&this.#dF(cL,[['mask',`url(#${this.#bV}-mask)`]]);if(qC.extraPoints){for(const [colour,pointsArrays] of Object.entries(qC.extraPoints)){for(const points of pointsArrays){const iC=this.#cF(this.#aV,'path');this.#dF(iC,[['d',`M ${(points[0][0]*this.#hV)+cC} ${(points[0][1]*this.#hV) + cC} ${this.#bF(points)}`],['fill', colour]]);aC.appendChild(iC)}}}if(this.#kV){const jC=aC.cloneNode(true);const kC=this.#cF(this.#aV,'defs');const lC=this.#cF(this.#aV,'mask');const mC=this.#cF(this.#aV,'rect');const nC=this.#cF(this.#aV,'linearGradient');const oC=this.#cF(this.#aV,'stop');const pC=this.#cF(this.#aV,'stop');this.#dF(lC,[['id',`${this.#bV}-ref-mask`]]);this.#dF(mC,[['x', 0],['y', 0],['width',(this.#hV*qC.columns)+dC],['height', (this.#hV*qC.rows) + dC],['fill',`url(#${this.#bV}-grad-mask)`]]);this.#dF(nC,[['id',`${this.#bV}-grad-mask`],['x1', '0'],['x2', '0'],['y1', '0'],['y2', '1']]);this.#dF(oC,[['offset', '0'],['stop-color', 'white']]);this.#dF(pC,[['offset', '1'],['stop-color', 'white']]);let dL=`0,-${((this.#aF().rows*this.#hV)+dC)*2}`;let eL='1,-1';let fL='0';let gL='0.3';if(this.#iV){dL=`-${((this.#aF().columns*this.#hV)+dC)},-${((this.#aF().rows*this.#hV) + dC)*2}`;eL='-1,-1'}this.#dF(oC,[['stop-opacity', fL]]);this.#dF(pC,[['stop-opacity', gL]]);this.#dF(jC,[['transform',`scale(${eL}) translate(${dL})`],['mask', `url(#${this.#bV}-ref-mask)`]]);lC.appendChild(mC);nC.appendChild(oC);nC.appendChild(pC);kC.appendChild(nC);kC.appendChild(lC);svg.appendChild(kC);svg.appendChild(jC)}return svg}#fF(){const qC=this.#aF();const rC=document.getElementById(this.#bV);const sC=this.#kV?2:1;rC.innerHTML='';rC.setAttributeNS(null,'width',`${(qC.columns*this.#hV)+(this.#jV*2)}`);rC.setAttributeNS(null,'height',`${((qC.rows*this.#hV)+(this.#jV*2))*sC}`);this.#eF(rC,qC);this.#iV&&this.setFlip(this.#iV)}#gF(){this.#eV=setInterval(()=>{this.#dV=!this.#dV;this.#fF()},500)}stop(){if(this.#eV){clearInterval(this.#eV)}}set #parentClass(className){this.#fV=`.${className}`}setColour(colour,option){if(CSS.supports('color',colour)){this.#gV=colour;!option&&this.#fF()} else{console.log(`${colour} is not a valid CSS colour`)}return this}setSize(size,option){if(this.#lV) return;if(typeof size==='number'){if(size>71){console.log(`Max size is 70,${size} was provided`);size=70}this.#hV=size;!option&&this.#fF()} else{console.log(`${size} is not a number type`)}return this}setFlip(shouldFlip){if(shouldFlip){this.#dF(document.getElementById(this.#bV).querySelector('g'),[['transform',`scale(-1, 1) translate(-${(this.#aF().columns*this.#hV)+(this.#jV*2)}, 0)`]])} else{document.getElementById(this.#bV).querySelector('g').removeAttribute('transform')}if(this.#kV){this.#dF(document.getElementById(this.#bV).querySelector('g:last-of-type'),[['transform',`scale(-1,-1) translate(-${(this.#aF().columns*this.#hV)+(this.#jV*2)}, -${((this.#aF().rows*this.#hV) +(this.#jV*2))*2})`]])}this.#iV=shouldFlip;return this}create(character,options){this.#cV=character.toLowerCase();const tC=this.#aF();const uC=this.#cF(this.#aV,'svg');let hL=null;let iL=null;this.#gV=tC.colour;uC.id=this.#bV;uC.classList.add('cre8bit',this.#cV.replace(' ', '-'));if(options){options.flip&&(this.#iV=options.flip);options.parentClass&&(this.#parentClass=options.parentClass);options.colour&&this.setColour(options.colour,true);options.size&&this.setSize(options.size,true);options.outline&&(this.#jV=0.5);options.reflection&&(this.#kV=true);if(options.responsive){let jL=true;const vC=options.responsive;for(const size of vC){if(typeof size !== 'number' ||(typeof size==='number'&&size < 1)){jL=false;console.log('Please provide an array of 3 numbers,even if2 are the same')}}if(jL){this.#lV=true;if(window.innerWidth < 768){this.#hV=vC[0]} else if(window.innerWidth < 999){this.#hV=vC[1]} else{this.#hV=vC[2]}}}}const wC=options&&options.reflection?2:1;uC.setAttributeNS(null,'width',`${(tC.columns*this.#hV)+(this.#jV*2)}`);uC.setAttributeNS(null,'height',`${((tC.rows*this.#hV)+(this.#jV*2))*wC}`);hL=this.#eF(uC,tC);if(options&&options.wrapperClass){iL=document.createElement('div');iL.className=options.wrapperClass;iL.appendChild(hL)} else{iL=hL}document.querySelector(this.#fV).appendChild(iL);if(options){options.flip&&this.setFlip(options.flip);if(options.animate){this.#dV=true;this.#gF()}}return this}}