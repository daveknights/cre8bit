export default class Cre8bit{#uV='http://www.w3.org/2000/svg';#nV=null;#pV='';#rV=false;#iV=0;#vV='body';#aV='#333';#tV=5;#eV=false;#jV=0;#sV={pacman:{rows:13,columns:12,colour:'yellow',points:[[[4,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,4],[10,4],[10,5],[7,5],[7,6],[4,6],[4,7],[7,7],[7,8],[10,8],[10,9],[12,9],[12,11],[11,11],[11,12],[9,12],[9,13],[4,13],[4,12],[2,12],[2,11],[1,11],[1,9],[0,9],[0,4],[1,4],[1,2],[2,2],[2,1],[4,1]]],animatePoints:[[[4,0],[8,0],[8,1],[10,1],[10,2],[11,2],[11,4],[12,4],[12,9],[11,9],[11,11],[10,11],[10,12],[8,12],[8,13],[4,13],[4,12],[2,12],[2,11],[1,11],[1,9],[0,9],[0,4],[1,4],[1,2],[2,2],[2,1],[4,1]]]},ghost:{rows:14,columns:14,colour:'cyan',points:[[[5,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,3],[13,3],[13,6],[14,6],[14,13],[13,13],[13,14],[11,14],[11,13],[10,13],[10,12],[9,12],[9,13],[8,13],[8,14],[6,14],[6,13],[5,13],[5,12],[4,12],[4,13],[3,13],[3,14],[1,14],[1,13],[0,13],[0,6],[1,6],[1,3],[2,3],[2,2],[3,2],[3,1],[5,1]]],animatePoints:[[[5,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,3],[13,3],[13,6],[14,6],[14,14],[13,14],[13,13],[12,13],[12,12],[11,12],[11,13],[10,13],[10,14],[8,14],[8,12],[6,12],[6,14],[4,14],[4,13],[3,13],[3,12],[2,12],[2,13],[1,13],[1,14],[0,14],[0,6],[1,6],[1,3],[2,3],[2,2],[3,2],[3,1],[5,1]]],extraPoints:{white:[[[4,3],[6,3],[6,4],[7,4],[7,5],[5,5],[5,7],[6,7],[6,8],[4,8],[4,7],[3,7],[3,4],[4,4]],[[10,3],[12,3],[12,4],[13,4],[13,5],[11,5],[11,7],[12,7],[12,8],[10,8],[10,7],[9,7],[9,4],[10,4]]],blue:[[[5,5],[7,5],[7,7],[5,7]],[[11,5],[13,5],[13,7],[11,7]]]}},spaceInvader:{rows:8,columns:11,colour:'lime',points:[[[2,0],[3,0],[3,1],[4,1],[4,2],[7,2],[7,1],[8,1],[8,0],[9,0],[9,1],[8,1],[8,2],[9,2],[9,3],[10,3],[10,4],[11,4],[11,7],[10,7],[10,5],[9,5],[9,7],[8,7],[8,8],[6,8],[6,7],[8,7],[8,6],[3,6],[3,7],[5,7],[5,8],[3,8,],[3,7],[2,7],[2,5],[1,5],[1,7],[0,7],[0,4],[1,4],[1,3],[2,3],[2,2],[3,2],[3,1],[2,1]]],animatePoints:[[[2,0],[3,0],[3,1],[4,1],[4,2],[7,2],[7,1],[8,1],[8,0],[9,0],[9,1],[8,1],[8,2],[9,2],[9,3],[10,3],[10,1],[11,1],[11,5],[10,5],[10,6],[9,6],[9,7],[10,7],[10,8],[9,8],[9,7],[8,7],[8,6],[3,6],[3,7],[2,7],[2,8],[1,8],[1,7],[2,7],[2,6],[1,6],[1,5],[0,5],[0,1],[1,1],[1,3],[2,3],[2,2],[3,2],[3,1],[2,1]]],mask:[[3,3],[7,3]]},ufo:{rows:7,columns:16,colour:'red',points:[[[5,0],[11,0],[11,1],[13,1],[13,2],[14,2],[14,3],[15,3],[15,4],[16,4],[16,5],[14,5],[14,6],[13,6],[13,7],[12,7],[12,6],[11,6],[11,5],[9,5],[9,6],[7,6],[7,5],[5,5],[5,6],[4,6],[4,7],[3,7],[3,6],[2,6],[2,5],[0,5],[0,4],[1,4],[1,3],[2,3],[2,2],[3,2],[3,1],[5,1]]],mask:[[3,3],[6,3],[9,3],[12,3]]},pokeBall:{rows:12,columns:13,colour:'red',points:[[[4,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,4],[13,4],[13,5],[12,5],[12,6],[11,6],[11,7],[9,7],[9,6],[8,6],[8,5],[5,5],[5,6],[4,6],[4,7],[2,7],[2,6],[1,6],[1,5],[0,5],[0,4],[1,4],[1,2],[2,2],[2,1],[4,1]]],extraPoints:{white:[[[0,6],[1,6],[1,7],[2,7],[2,8],[5,8],[5,6],[8,6],[8,8],[11,8],[11,7],[12,7],[12,6],[13,6],[13,8],[12,8],[12,10],[11,10],[11,11],[9,11],[9,12],[4,12],[4,11],[2,11],[2,10],[1,10],[1,8],[0,8]]],black:[[[0,5],[1,5],[1,6],[2,6],[2,7],[4,7],[4,6],[5,6],[5,5],[8,5],[8,6],[9,6],[9,7],[11,7],[11,6],[12,6],[12,5],[13,5],[13,6],[12,6],[12,7],[11,7],[11,8],[8,8],[8,6],[5,6],[5,8],[8,8],[8,9],[5,9],[5,8],[2,8],[2,7],[1,7],[1,6],[0,6]]]}},mushroom:{rows:14,columns:14,colour:'red',points:[[[6,0],[8,0],[8,2],[9,2],[9,3],[11,3],[11,2],[12,2],[12,4],[11,4],[11,7],[12,7],[12,8],[14,8],[14,10],[12,10],[12,9],[9,9],[9,8],[10,8],[10,5],[9,5],[9,4],[5,4],[5,5],[4,5],[4,8],[5,8],[5,9],[2,9],[2,10],[0,10],[0,8],[2,8],[2,7],[3,7],[3,4],[2,4],[2,2],[3,2],[3,3],[5,3],[5,2],[6,2]]],extraPoints:{white:[[[0,5],[1,5],[1,3],[2,3],[2,4],[3,4],[3,7],[2,7],[2,8],[0,8]],[[5,0],[6,0],[6,2],[5,2],[5,3],[3,3],[3,1],[5,1]],[[8,0],[9,0],[9,1],[11,1],[11,3],[9,3],[9,2],[8,2]],[[12,3],[13,3],[13,5],[14,5],[14,8],[12,8],[12,7],[11,7],[11,4],[12,4]],[[5,4],[9,4],[9,5],[10,5],[10,8],[9,8],[9,9],[5,9],[5,8],[4,8],[4,5],[5,5]],[[3,10],[11,10],[11,11],[12,11],[12,13],[11,13],[11,14],[3,14],[3,13],[2,13],[2,11],[3,11]]],black:[[[2,9],[12,9],[12,11],[11,11],[11,10],[9,10],[9,12],[8,12],[8,10],[6,10],[6,12],[5,12],[5,10],[3,10],[3,11],[2,11]]]}},mario:{rows:16,columns:12,colour:'red',points:[[[3,0],[8,0],[8,1],[11,1],[11,2],[2,2],[2,1],[3,1]],[[2,7],[4,7],[4,10],[3,10],[3,11],[2,11],[2,10],[0,10],[0,9],[1,9],[1,8],[2,8],[2,7]],[[5,7],[7,7],[7,9],[5,9]],[[8,7],[10,7],[10,8],[11,8],[11,9],[12,9],[12,10],[10,10],[10,11],[9,11],[9,10],[8,10]]],extraPoints:{brown:[[[2,2],[5,2],[5,3],[4,3],[4,4],[5,4],[5,5],[3,5],[3,3],[2,3]],[[1,3],[2,3],[2,5],[3,5],[3,6],[2,6],[2,5],[1,5]],[[1,14],[4,14],[4,16],[0,16],[0,15],[1,15]],[[8,14],[11,14],[11,15],[12,15],[12,16],[8,16]]],black:[[[7,2],[8,2],[8,4],[9,4],[9,5],[11,5],[11,6],[7,6],[7,5],[8,5],[8,4],[7,4]]],bisque:[[[2,3],[3,3],[3,5],[5,5],[5,4],[4,4],[4,3],[5,3],[5,2],[7,2],[7,4],[8,4],[8,2],[9,2],[9,3],[11,3],[11,4],[12,4],[12,5],[9,5],[9,4],[8,4],[8,5],[7,5],[7,6],[9,6],[9,7],[3,7],[3,5],[2,5]],[[0,10],[2,10],[2,11],[3,11],[3,12],[2,12],[2,13],[0,13]],[[10,10],[12,10],[12,13],[10,13],[10,12],[9,12],[9,11],[10,11]]],blue:[[[4,7],[5,7],[5,9],[7,9],[7,7],[8,7],[8,10],[7,10],[7,11],[8,11],[8,10],[9,10],[9,12],[10,12],[10,14],[7,14],[7,13],[5,13],[5,14],[2,14],[2,12],[3,12],[3,10],[4,10],[4,11],[5,11],[5,10],[4,10]]],yellow:[[[4,10],[5,10],[5,11],[4,11]],[[7,10],[8,10],[8,11],[7,11]]]}},kirby:{rows:14,columns:14,colour:'pink',points:[[[1,0],[3,0],[3,1],[2,1],[2,2],[3,2],[3,1],[4,1],[4,0],[9,0],[9,1],[11,1],[11,2],[12,2],[12,4],[13,4],[13,5],[14,5],[14,8],[11,8],[11,9],[10,9],[10,10],[9,10],[9,12],[8,12],[8,13],[5,13],[5,12],[3,12],[3,11],[2,11],[2,10],[1,10],[1,7],[0,7],[0,1],[1,1]]],extraPoints:{crimson:[[[1,12],[3,12],[3,13],[5,13],[5,14],[0,14],[0,13],[1,13]],[[11,9],[14,9],[14,12],[13,12],[13,13],[12,13],[12,14],[10,14],[10,13],[9,13],[9,12],[10,12],[10,10],[11,10]],[[3,5],[5,5],[5,6],[3,6]],[[8,5],[10,5],[10,6],[8,6]]],black:[[[5,2],[6,2],[6,5],[5,5]],[[7,2],[8,2],[8,5],[7,5]],[[6,6],[7,6],[7,8],[6,8]]]}},};constructor(){this.#nV=`c8b-${Math.floor(Math.random()*Math.floor(Math.random()*Date.now()))}`}#fF(){let uL=this.#pV;switch(uL){case 'space invader':return this.#sV['spaceInvader'];case 'poke ball':return this.#sV['pokeBall'];default:if(uL in this.#sV){return this.#sV[uL]} else{console.log('Character not available')}break}}#uF(points){let nL='';for(const [i,[x,y]] of points.entries()){if(i===0){continue}nL += `L ${(x*this.#tV) + this.#jV} ${(y*this.#tV) + this.#jV} `}nL += 'z';return nL}#nF(name,tag){return document.createElementNS(name,tag)}#cF(svg,rC){const cC=this.#nF(this.#uV,'g');const oC=this.#rV===false?rC.points:rC.animatePoints;let lL=null;cC.setAttribute('fill',this.#aV);if(this.#jV===0.5){cC.setAttribute('stroke','black');cC.setAttribute('stroke-width',this.#jV)}if(rC.mask){const nC=this.#nF(this.#uV,'defs');const sC=this.#nF(this.#uV,'mask');const tC=this.#nF(this.#uV,'rect');sC.setAttribute('id',`${this.#nV}-mask`);tC.setAttribute('x',0);tC.setAttribute('y',0);tC.setAttribute('width',(this.#tV*rC.columns) +(this.#jV*2));tC.setAttribute('height',(this.#tV*rC.rows) +(this.#jV*2));tC.setAttribute('fill','white');sC.appendChild(tC);for(const [x,y] of rC.mask.values()){const vC=this.#nF(this.#uV,'rect');vC.setAttribute('x',(x*this.#tV) + this.#jV);vC.setAttribute('y',(y*this.#tV) + this.#jV);vC.setAttribute('width',this.#tV);vC.setAttribute('height',this.#tV);vC.setAttribute('fill','black');sC.appendChild(vC)}nC.appendChild(sC);svg.appendChild(nC)}svg.appendChild(cC);for(const points of oC){lL=this.#nF(this.#uV,'path');lL.setAttribute('d',`M ${(points[0][0]*this.#tV) + this.#jV} ${(points[0][1]*this.#tV) + this.#jV} ${this.#uF(points)}`);cC.appendChild(lL)}rC.mask&&lL.setAttribute('mask',`url(#${this.#nV}-mask)`);if(rC.extraPoints){for(const [colour,pointsArrays] of Object.entries(rC.extraPoints)){for(const points of pointsArrays){const aC=this.#nF(this.#uV,'path');aC.setAttribute('d',`M ${(points[0][0]*this.#tV) + this.#jV} ${(points[0][1]*this.#tV) + this.#jV} ${this.#uF(points)}`);aC.setAttribute('fill',colour);cC.appendChild(aC)}}}return svg}#sF(){const rC=this.#fF();const lC=document.getElementById(this.#nV);lC.innerHTML='';lC.setAttributeNS(null,'width', `${(rC.columns*this.#tV) +(this.#jV*2)}`);lC.setAttributeNS(null,'height', `${(rC.rows*this.#tV) +(this.#jV*2)}`);this.#cF(lC,rC);this.#eV&&this.setFlip(this.#eV)}#yF(){this.#iV=setInterval(()=>{this.#rV=!this.#rV;this.#sF()},500)}stop(){if(this.#iV){clearInterval(this.#iV)}}set #parentClass(className){this.#vV=`.${className}`}setColour(colour,option){if(CSS.supports('color',colour)){this.#aV=colour;!option&&this.#sF()} else{console.log(`${colour} is not a valid CSS colour`)}return this}setSize(size,option){if(typeof size==='number'){if(size>71){console.log(`Max size is 70,${size} was provided`);size=70}this.#tV=size;!option&&this.#sF()} else{console.log(`${size} is not a number type`)}return this}setFlip(shouldFlip){if(shouldFlip){document.getElementById(this.#nV).querySelector('g').setAttribute('transform',`scale(-1, 1) translate(-${(this.#fF().columns*this.#tV) +(this.#jV*2)}, 0)`)} else{document.getElementById(this.#nV).querySelector('g').removeAttribute('transform')}this.#eV=shouldFlip;return this}create(character,options){this.#pV=character.toLowerCase();const iC=this.#fF();const eC=this.#nF(this.#uV,'svg');let eL=null;let tL=null;this.#aV=iC.colour;eC.id=this.#nV;eC.classList.add('cre8bit',this.#pV.replace(' ', '-'));if(options){options.parentClass&&(this.#parentClass=options.parentClass);options.colour&&this.setColour(options.colour,true);options.size&&this.setSize(options.size,true);options.outline&&(this.#jV=0.5)}eC.setAttributeNS(null,'width', `${(iC.columns*this.#tV) +(this.#jV*2)}`);eC.setAttributeNS(null,'height', `${(iC.rows*this.#tV) +(this.#jV*2)}`);eL=this.#cF(eC,iC);if(options&&options.wrapperClass){tL=document.createElement('div');tL.className=options.wrapperClass;tL.appendChild(eL)} else{tL=eL}document.querySelector(this.#vV).appendChild(tL);if(options){options.flip&&this.setFlip(options.flip);if(options.animate){this.#rV=true;this.#yF()}}return this}}